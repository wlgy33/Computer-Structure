# 03 CPU 성능 분석

사람은 성능을 분석하기 위해 CPU 실행 시간에 관심을 갖지만, 컴퓨터는 일정한 주기를 가진 클록 사이클을 주목한다. 하나의 프로그램은 다수의 명령어를 포함하며, 컴퓨터는 명령어를 실행하기 위해 클록 사이클을 사용하기 때문이다.

### 1 성능에 영향을 미치는 요소
프로세서의 사양을 살펴보면 클록 속도라는 것이 있다. 클록 속도 1.0GHz는 1초당 1.0 X 10^9사이클을 말하며, 클록 사이클 시간은 10^{-9}sec, 즉 1ns이다. CPU의 성능을 평가할 때 클록 속도가 중요하지만, 절대적인 성능을 결정 짓지 않는다. 클록 속도는 CPU의 성능에 영향을 미치는 하나의 요소이기 때문이다.
CPU의 성능은 프로그램 실행 시간으로 나타낼 수 있다. 프로그램 실행 시간이 짧은 CPU는 프로그램 실행 시간이 긴 CPU보다 성능이 우수하다고 할 수 있다. 하나의 프로그램에 대한 CPU 실행 시간, 즉 프로그램 실행 시간은 다음과 같이 3개의 요소로 나타낼 수 있다.

**CPU 실행시간/프로그램} = 명령어 개수/프로그램 X 사이클 개수/명령어 X 시간/사이클**

- **명령어 개수/프로그램** : 프로그램의 크기. 이때 명령어 개수는 명령어 집합에 포함된 명령어 종류의 수를 말하는 것이 아니다. 하나의 프로그램에 포함된 명령어 개수가 많으면 일반적으로 실행 시간이 오래 걸리는 것이 당연하다.
- **사이클 개수/명령어** : CPI(Cycles per Instruction : 하나의 명령어를 실행하는 필요한 클록 사이클의 수)
-**시간/사이클** : 클록 사이클 시간(한 클록 사이클에 소요되는 시간). 사이클 시간의 역수를 클록률 또는 클록 속도라고 한다.

CPU 실행 시간을 다시 정리하면 다음과 같다.

**프로그램의 CPU 실생시간 = 명령어 개수 X 평균 CPI X 사이클 시간 = 명령어 개수 X 평균 CPI/클록속도**

**명령어 개수**는 아키텍처나 알고리즘에 의해 결정되며, 일반적으로 명령어 개수가 줄어들면, 즉 프로그램의 크기가 작아지면 프로그램 실행 시간도 줄어든다.
**평균 CPI**는 아키텍처와 컴퓨터의 구현, 혹은 프로그램을 구성하는 명령어 배합에 따라 달라진다. 각 명령어가 실행될 때 필요한 사이클의 수는 알 수 있으므로, 평균 CPI는 아래 예제와 같이 명령어 유형별 실행 빈도와 각 명령어에 대한 사이클의 수를 사용하면 계산할 수 있다.
**클록 속도**는 아키텍처의 영향을 어느 정도 받지만 주로 컴퓨터의 구현 방식이나 실현 기술에 의해 결정된다.